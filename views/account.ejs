<%- include('partials/header.ejs') %>
<%- include('partials/login.ejs') %>
    <div class="container my-5">
        <h1 class="">My Account</h1>
        <div class="container jumbotron">
            <div class="row">
                <div class="col-md-8 mx-auto ">
                    <form>
                        <div class="form-group">
                            <label for="username">User Name: </label>
                            <input type="text" class="form-control" id="username" value="<%= users[0].username%>" readonly>
                        </div>
                        <div class="form-group">
                            <label for="firstname">First Name: </label>
                            <input type="text" class="form-control" id="firstname" value="<%= users[0].firstname%>">
                        </div>
                        <div class="form-group">
                            <label for="lastname">Last Name: </label>
                            <input type="text" class="form-control" id="lastname" value="<%= users[0].lastname%>">
                        </div>
                        <div class="form-group">
                            <label for="age">Age: </label>
                            <input type="number" class="form-control" id="age" value="<%= users[0].age%>">
                        </div>
                        <div class="form-group">
                            <label for="title">Title: </label>
                            <input type="text" class="form-control" id="title" value="<%= users[0].title%>">
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone: </label>
                            <input type="text" class="form-control" id="phone" value="<%= users[0].phone%>"> 
                        </div>
                        <div class="form-group">
                            <label for="email">Email: </label>
                            <input type="email" class="form-control" id="email" value="<%= users[0].email%>">
                        </div>
                        <div class="form-group">
                            <label for="phone">Address: </label>
                            <input type="text" class="form-control" id="address" value="<%= users[0].address%>"> 
                        </div>
                        <button class="btn-primary" id="update-userinfo" type="button" value="Update">Update</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="container .table-responsive-md">
            <h2>Reservations (Paid) </h2>
            <table class="table table-striped table-bordered">
                <thead class="thead-light">
                    <tr>
                        <th class="text-center">Title</th>
                        <th class="text-center">Start</th>
                        <th class="text-center">End</th>
                        <th class="text-center">Type</th>
                        <th class="text-center">Paid ($)</th>
                        <th class="text-center"></th>
                    </tr>
                </thead>
                <tbody>
                    <% items.forEach(function(item) { if (item.paid != null) { %>
                        <tr>
                            <td class="text-center align-middle"><%= item.title %></td>
                            <td class="text-center align-middle">
                                <% if (item.start_datetime) { %>
                                    <%= (new Date(item.start_datetime)).toDateString() %>
                                <% } %>
                            </td>
                            <td class="text-center align-middle">
                                <% if (item.end_datetime) { %>
                                    <%= (new Date(item.end_datetime)).toDateString() %>
                                <% } %>
                            </td>
                            <td class="text-center align-middle">
                                <% if (item.type == 0) { %>Flight<% } else { %>Hotel<% } %>
                            </td>
                            <td class="text-right align-middle"><%= item.paid %></td>
                            <td class="text-center align-middle"><button class="btn btn-danger btn-remove btn-sm" type="button" value="<%= item.id %>">REMOVE</button></td>
                        </tr>
                    <% } });%>
                </tbody>
            </table>
        </div>
    </div>
<%- include('partials/footer.ejs') %>